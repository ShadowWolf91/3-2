<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
</head>

<body id="body">

  <button onclick="loadPhones()" id="button">Загрузить index.txt!</button>

  <script>
    async function loadPhones() {
        let url = 'http://localhost:5000/api/name';
        let ftch = await fetch(url);

        let text = await ftch.text();

        if (ftch.status = 200) { 
        body.innerHTML = (text);
        } else {
        alert("Ошибка HTTP: " + ftch.status);
        }
      //var xhr = new XMLHttpRequest();

      //xhr.open('GET', 'http://localhost:5000/api/name', true);


      //xhr.send();


      /*xhr.onreadystatechange = function() {
        if (xhr.readyState != 4) return;

        //button.innerHTML = 'Готово!';

        if (xhr.status != 200) {
          // обработать ошибку
          body.innerHTML = (xhr.status + ': ' + xhr.statusText);
        } else {
          // вывести результат
          body.innerHTML = (xhr.responseText);
        }
        */

      //}

      //button.innerHTML = 'Загружаю...';
      //button.disabled = true;
      button.style.visibility = "hidden";
    }
  </script>

</body>

</html>